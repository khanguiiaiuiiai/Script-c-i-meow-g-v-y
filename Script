-- Scroll frame chá»©a nÃºt
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size = UDim2.new(1, -20, 1, -80)
ScrollFrame.Position = UDim2.new(0, 10, 0, 50)
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.ScrollBarThickness = 5
ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 600)
ScrollFrame.Parent = MainFrame

local UIGridLayout = Instance.new("UIGridLayout")
UIGridLayout.CellSize = UDim2.new(0, 150, 0, 50)
UIGridLayout.CellPadding = UDim2.new(0, 10, 0, 10)
UIGridLayout.Parent = ScrollFrame

-- ===== HÃ€M Táº O NÃšT =====
local function createButton(name, color, callback)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 150, 0, 50)
    button.BackgroundColor3 = color
    button.Text = name
    button.TextColor3 = Color3.new(1,1,1)
    button.Font = Enum.Font.GothamSemibold
    button.TextSize = 16
    button.BorderSizePixel = 0
    button.AutoButtonColor = false
    button.Parent = ScrollFrame

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = button

    button.MouseButton1Click:Connect(callback)
    return button
end

-- ===== CHá»¨C NÄ‚NG =====

-- 1. Gáº®N PHá»¤ KIá»†N MÃˆO NOEL
local function attachCatAccessory()
    local assetId = _G.Settings.CatAccessoryId
    local success, accessory = pcall(function()
        return game:GetService("InsertService"):LoadAsset(assetId)
    end)
    if success and accessory then
        accessory = accessory:GetChildren()[1]
        if accessory and accessory:IsA("Accessory") then
            local newAccessory = accessory:Clone()
            newAccessory.Parent = character
            humanoid:AddAccessory(newAccessory)
            print("ðŸŽ„ Meow! Äá»™i nÃ³n Noel xinh quÃ¡!")
        end
    else
        warn("âŒ KhÃ´ng táº£i Ä‘Æ°á»£c phá»¥ kiá»‡n. Kiá»ƒm tra ID hoáº·c InsertService.")
    end
end

-- 2. AUTO FARM (Táº¤N CÃ”NG QUÃI Gáº¦N NHáº¤T)
local farmLoop = nil
local function startAutoFarm()
    if farmLoop then farmLoop:Disconnect() end
    farmLoop = RunService.Heartbeat:Connect(function()
        if not _G.Settings.AutoFarm then farmLoop:Disconnect() farmLoop = nil return end
        local character = LocalPlayer.Character
        if not character or not character:FindFirstChild("HumanoidRootPart") then return end
        local root = character.HumanoidRootPart
        local nearestEnemy = nil
        local shortestDistance = math.huge
        for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("Model") and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") then
                if v.Humanoid.Health > 0 and v.Name ~= LocalPlayer.Name then
                    local dist = (root.Position - v.HumanoidRootPart.Position).Magnitude
                    if dist < shortestDistance then
                        shortestDistance = dist
                        nearestEnemy = v
                    end
                end
            end
        end
        if nearestEnemy then
            root.CFrame = nearestEnemy.HumanoidRootPart.CFrame * CFrame.new(0, 0, 5)
            local tool = character:FindFirstChildOfClass("Tool")
            if tool and tool:FindFirstChild("Activate") then
                tool:Activate()
            else
                virtualUser:ClickButton2(Vector2.new()) -- click chuá»™t pháº£i
            end
        end
    end)
end

-- 3. AUTO QUEST (tá»± Ä‘á»™ng nháº­n/ná»™p quest â€“ phiÃªn báº£n Ä‘Æ¡n giáº£n)
-- Báº¡n cÃ³ thá»ƒ má»Ÿ rá»™ng thÃªm
local function startAutoQuest()
    print("â³ Auto Quest Ä‘ang phÃ¡t triá»ƒn... Sáº½ sá»›m cÃ³ meow!")
end

-- 4. AUTO RAID
local function startAutoRaid()
    print("âš”ï¸ Auto Raid: ChÆ°a cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ yÃªu cáº§u mÃ¬nh viáº¿t thÃªm nha!")
end

-- 5. AUTO NHáº¶T TRÃI CÃ‚Y
local fruitLoop = nil
local function startAutoFruit()
    if fruitLoop then fruitLoop:Disconnect() end
    fruitLoop = RunService.Heartbeat:Connect(function()
        if not _G.Settings.AutoFruit then fruitLoop:Disconnect() fruitLoop = nil return end
        local character = LocalPlayer.Character
        if not character or not character:FindFirstChild("HumanoidRootPart") then return end
        local root = character.HumanoidRootPart
        for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("Tool") and v:FindFirstChild("Handle") and v.Name:lower():find("fruit") then
                local fruitPos = v.Handle.Position
                root.CFrame = CFrame.new(fruitPos)
                task.wait(0.3)
                firetouchinterest(root, v.Handle, 0)
                firetouchinterest(root, v.Handle, 1)
                break
            end
        end
    end)
end

-- 6. AUTO BÆ I
local swimLoop = nil
local function startAutoSwim()
    if swimLoop then swimLoop:Disconnect() end
    swimLoop = RunService.Heartbeat:Connect(function()
        if not _G.Settings.AutoSwim then swimLoop:Disconnect() swimLoop = nil return end
        local character = LocalPlayer.Character
        if character and character:FindFirstChild("Humanoid") then
            if character.Humanoid:GetState() == Enum.HumanoidStateType.Swimming then
                character.HumanoidRootPart.Velocity = Vector3.new(0, 15, 0)
            end
        end
    end)
end

-- 7. SET SPEED / JUMP
local function setSpeedJump()
    local character = LocalPlayer.Character
    if character and character:FindFirstChild("Humanoid") then
        character.Humanoid.WalkSpeed = _G.Settings.WalkSpeed
        character.Humanoid.JumpPower = _G.Settings.JumpPower
        print("ðŸš€ Speed:", _G.Settings.WalkSpeed, "Jump:", _G.Settings.JumpPower)
    end
end

-- 8. TELEPORT Äáº¢O CHÃNH
local teleportIslands = {
    {"ðŸï¸ Start", CFrame.new(-72, 18, 1278)},
    {"ðŸï¸ Jungle", CFrame.new(-1633, 13, 33)},
    {"ðŸï¸ Pirate Village", CFrame.new(-1186, 5, 830)},
    {"ðŸï¸ Desert", CFrame.new(952, 16, 1445)},
    {"ðŸï¸ Snow", CFrame.new(1186, 27, -1393)},
    {"ðŸï¸ Marine Ford", CFrame.new(-4636, 12, -2673)},
}

for i, data in ipairs(teleportIslands) do
    createButton(data[1], Color3.fromRGB(80, 120, 200), function()
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("HumanoidRootPart") then
            char.HumanoidRootPart.CFrame = data[2]
            print("ðŸ“¡ Teleport Ä‘áº¿n", data[1])
        end
    end)
end

-- 9. CÃC NÃšT ÄIá»€U KHIá»‚N (Báº¬T/Táº®T)
local farmBtn = createButton("âš”ï¸ Auto Farm", Color3.fromRGB(70, 130, 70), function()
    _G.Settings.AutoFarm = not _G.Settings.AutoFarm
    farmBtn.Text = (_G.Settings.AutoFarm and "âœ…" or "âš”ï¸") .. " Auto Farm"
    farmBtn.BackgroundColor3 = _G.Settings.AutoFarm and Color3.fromRGB(40, 180, 40) or Color3.fromRGB(70, 130, 70)
    if _G.Settings.AutoFarm then startAutoFarm() end
end)

local fruitBtn = createButton("ðŸŽ Auto Fruit", Color3.fromRGB(180, 120, 50), function()
    _G.Settings.AutoFruit = not _G.Settings.AutoFruit
    fruitBtn.Text = (_G.Settings.AutoFruit and "âœ…" or "ðŸŽ") .. " Auto Fruit"
    fruitBtn.BackgroundColor3 = _G.Settings.AutoFruit and Color3.fromRGB(40, 180, 40) or Color3.fromRGB(180, 120, 50)
    if _G.Settings.AutoFruit then startAutoFruit() end
end)

local swimBtn = createButton("ðŸŒŠ Auto BÆ¡i", Color3.fromRGB(50, 150, 200), function()
    _G.Settings.AutoSwim = not _G.Settings.AutoSwim
    swimBtn.Text = (_G.Settings.AutoSwim and "âœ…" or "ðŸŒŠ") .. " Auto BÆ¡i"
    swimBtn.BackgroundColor3 = _G.Settings.AutoSwim and Color3.fromRGB(40, 180, 40) or Color3.fromRGB(50, 150, 200)
    if _G.Settings.AutoSwim then startAutoSwim() end
end)

createButton("ðŸ± Äá»™i MÅ© MÃ¨o Noel", Color3.fromRGB(200, 100, 100), attachCatAccessory)
createButton("âš¡ Set Speed/Jump", Color3.fromRGB(150, 100, 200), setSpeedJump)

-- Slider Speed (Ä‘Æ¡n giáº£n hÃ³a)
createButton("âž• TÄƒng Speed", Color3.fromRGB(100, 200, 100), function()
    _G.Settings.WalkSpeed = _G.Settings.WalkSpeed + 10
    setSpeedJump()
end)
createButton("âž– Giáº£m Speed", Color3.fromRGB(200, 100, 100), function()
    _G.Settings.WalkSpeed = math.max(16, _G.Settings.WalkSpeed - 10)
    setSpeedJump()
end)

-- NÃºt Ä‘Ã³ng/má»Ÿ menu (thu gá»n)
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0, 40, 0, 40)
toggleBtn.Position = UDim2.new(1, -50, 0, 10)
toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
toggleBtn.Text = "âŒ"
toggleBtn.TextColor3 = Color3.new(1,1,1)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 20
toggleBtn.BorderSizePixel = 0
toggleBtn.Parent = MainFrame
toggleBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)

-- Bo gÃ³c cho toggle
local cornerToggle = Instance.new("UICorner")
cornerToggle.CornerRadius = UDim.new(0, 10)
cornerToggle.Parent = toggleBtn

-- ===== THÃ”NG BÃO KHá»žI Äá»˜NG =====
print("ðŸ± Meow! Script 'CÃI MEOW GÃŒ Váº¬Y' Ä‘Ã£ táº£i xong!")
print("ðŸŽ„ ChÃºc báº¡n GiÃ¡ng sinh vui váº» vá»›i em mÃ¨o Ä‘á»™i nÃ³n Noel!")

-- Tá»± gáº¯n phá»¥ kiá»‡n náº¿u muá»‘n (cÃ³ thá»ƒ bá» comment dÃ²ng dÆ°á»›i)
-- task.wait(2)
-- attachCatAccessory()
